{"ast":null,"code":"// property-actions.js\n\nimport PropertyService from '../services/property.service';\nexport const FETCH_PROPERTIES_REQUEST = 'FETCH_PROPERTIES_REQUEST';\nexport const FETCH_PROPERTIES_SUCCESS = 'FETCH_PROPERTIES_SUCCESS';\nexport const FETCH_PROPERTIES_FAILURE = 'FETCH_PROPERTIES_FAILURE';\nexport const UPDATE_PROPERTY_REQUEST = 'UPDATE_PROPERTY_REQUEST';\nexport const UPDATE_PROPERTY_SUCCESS = 'UPDATE_PROPERTY_SUCCESS';\nexport const UPDATE_PROPERTY_FAILURE = 'UPDATE_PROPERTY_FAILURE';\nexport const TOGGLE_FAVORITE_REQUEST = 'TOGGLE_FAVORITE_REQUEST';\nexport const TOGGLE_FAVORITE_SUCCESS = 'TOGGLE_FAVORITE_SUCCESS';\nexport const TOGGLE_FAVORITE_FAILURE = 'TOGGLE_FAVORITE_FAILURE';\nexport const FETCH_FAVORITES_REQUEST = 'FETCH_FAVORITES_REQUEST';\nexport const FETCH_FAVORITES_SUCCESS = 'FETCH_FAVORITES_SUCCESS';\nexport const FETCH_FAVORITES_FAILURE = 'FETCH_FAVORITES_FAILURE';\nexport const SEARCH_PROPERTIES = 'SEARCH_PROPERTIES';\nconst fetchPropertiesRequest = () => ({\n  type: FETCH_PROPERTIES_REQUEST\n});\nconst fetchPropertiesSuccess = properties => ({\n  type: FETCH_PROPERTIES_SUCCESS,\n  payload: properties\n});\nconst fetchPropertiesFailure = error => ({\n  type: FETCH_PROPERTIES_FAILURE,\n  payload: error\n});\n\n// Inside property-actions.js\nexport const fetchAllProperties = (page = 1, perPage = 6) => dispatch => {\n  dispatch(fetchPropertiesRequest());\n  PropertyService.getAllProperties(page, perPage).then(response => {\n    dispatch(fetchPropertiesSuccess(response.data));\n  }).catch(error => {\n    dispatch(fetchPropertiesFailure(error.message));\n  });\n};\nconst updatePropertyRequest = () => ({\n  type: UPDATE_PROPERTY_REQUEST\n});\nconst updatePropertySuccess = property => ({\n  type: UPDATE_PROPERTY_SUCCESS,\n  payload: property\n});\nconst updatePropertyFailure = error => ({\n  type: UPDATE_PROPERTY_FAILURE,\n  payload: error\n});\nexport const updateProperty = (propertyId, propertyData) => dispatch => {\n  dispatch(updatePropertyRequest());\n  PropertyService.updateProperty(propertyId, propertyData).then(response => {\n    dispatch(updatePropertySuccess(response.data));\n  }).catch(error => {\n    dispatch(updatePropertyFailure(error.message));\n  });\n};\nconst toggleFavoriteRequest = () => ({\n  type: TOGGLE_FAVORITE_REQUEST\n});\nconst toggleFavoriteSuccess = status => ({\n  type: TOGGLE_FAVORITE_SUCCESS,\n  payload: status\n});\nconst toggleFavoriteFailure = error => ({\n  type: TOGGLE_FAVORITE_FAILURE,\n  payload: error\n});\nexport const toggleFavorite = (propertyId, page) => dispatch => {\n  dispatch(toggleFavoriteRequest());\n  PropertyService.toggleFavoriteProperty(propertyId).then(response => {\n    dispatch(toggleFavoriteSuccess(response.data.message));\n    dispatch(fetchAllProperties(page));\n    // Assuming the API response contains a \"status\" that indicates \"added\" or \"removed\"\n  }).catch(error => {\n    dispatch(toggleFavoriteFailure(error.message));\n  });\n};\nconst fetchFavoritesRequest = () => ({\n  type: FETCH_FAVORITES_REQUEST\n});\nconst fetchFavoritesSuccess = properties => ({\n  type: FETCH_FAVORITES_SUCCESS,\n  payload: properties\n});\nconst fetchFavoritesFailure = error => ({\n  type: FETCH_FAVORITES_FAILURE,\n  payload: error\n});\nexport const fetchFavorites = () => dispatch => {\n  dispatch(fetchFavoritesRequest());\n  debugger;\n  PropertyService.getFavoriteProperties().then(response => {\n    dispatch(fetchFavoritesSuccess(response.data));\n  }).catch(error => {\n    dispatch(fetchFavoritesFailure(error.message));\n  });\n};\nexport const searchProperties = params => dispatch => {\n  return PropertyService.searchProperties(params).then(response => {\n    dispatch({\n      type: 'SEARCH_PROPERTIES',\n      payload: response.data\n    });\n    return Promise.resolve();\n  }, error => {\n    // Handle error here\n    return Promise.reject(error);\n  });\n};","map":{"version":3,"names":["PropertyService","FETCH_PROPERTIES_REQUEST","FETCH_PROPERTIES_SUCCESS","FETCH_PROPERTIES_FAILURE","UPDATE_PROPERTY_REQUEST","UPDATE_PROPERTY_SUCCESS","UPDATE_PROPERTY_FAILURE","TOGGLE_FAVORITE_REQUEST","TOGGLE_FAVORITE_SUCCESS","TOGGLE_FAVORITE_FAILURE","FETCH_FAVORITES_REQUEST","FETCH_FAVORITES_SUCCESS","FETCH_FAVORITES_FAILURE","SEARCH_PROPERTIES","fetchPropertiesRequest","type","fetchPropertiesSuccess","properties","payload","fetchPropertiesFailure","error","fetchAllProperties","page","perPage","dispatch","getAllProperties","then","response","data","catch","message","updatePropertyRequest","updatePropertySuccess","property","updatePropertyFailure","updateProperty","propertyId","propertyData","toggleFavoriteRequest","toggleFavoriteSuccess","status","toggleFavoriteFailure","toggleFavorite","toggleFavoriteProperty","fetchFavoritesRequest","fetchFavoritesSuccess","fetchFavoritesFailure","fetchFavorites","getFavoriteProperties","searchProperties","params","Promise","resolve","reject"],"sources":["/home/dev-cache/urhouse_frontend/src/actions/property.js"],"sourcesContent":["// property-actions.js\n\nimport PropertyService from '../services/property.service';\n\n\nexport const FETCH_PROPERTIES_REQUEST = 'FETCH_PROPERTIES_REQUEST';\nexport const FETCH_PROPERTIES_SUCCESS = 'FETCH_PROPERTIES_SUCCESS';\nexport const FETCH_PROPERTIES_FAILURE = 'FETCH_PROPERTIES_FAILURE';\nexport const UPDATE_PROPERTY_REQUEST = 'UPDATE_PROPERTY_REQUEST';\nexport const UPDATE_PROPERTY_SUCCESS = 'UPDATE_PROPERTY_SUCCESS';\nexport const UPDATE_PROPERTY_FAILURE = 'UPDATE_PROPERTY_FAILURE';\nexport const TOGGLE_FAVORITE_REQUEST = 'TOGGLE_FAVORITE_REQUEST';\nexport const TOGGLE_FAVORITE_SUCCESS = 'TOGGLE_FAVORITE_SUCCESS';\nexport const TOGGLE_FAVORITE_FAILURE = 'TOGGLE_FAVORITE_FAILURE';\nexport const FETCH_FAVORITES_REQUEST = 'FETCH_FAVORITES_REQUEST';\nexport const FETCH_FAVORITES_SUCCESS = 'FETCH_FAVORITES_SUCCESS';\nexport const FETCH_FAVORITES_FAILURE = 'FETCH_FAVORITES_FAILURE';\nexport const SEARCH_PROPERTIES = 'SEARCH_PROPERTIES';\n\n\n\nconst fetchPropertiesRequest = () => ({\n  type: FETCH_PROPERTIES_REQUEST\n});\n\nconst fetchPropertiesSuccess = (properties) => ({\n  type: FETCH_PROPERTIES_SUCCESS,\n  payload: properties\n});\n\nconst fetchPropertiesFailure = (error) => ({\n  type: FETCH_PROPERTIES_FAILURE,\n  payload: error\n});\n\n// Inside property-actions.js\nexport const fetchAllProperties = (page = 1, perPage = 6) => (dispatch) => {\n  dispatch(fetchPropertiesRequest());\n  PropertyService.getAllProperties(page, perPage)\n    .then(response => {\n      dispatch(fetchPropertiesSuccess(response.data));\n    })\n    .catch(error => {\n      dispatch(fetchPropertiesFailure(error.message));\n    });\n};\n\nconst updatePropertyRequest = () => ({\n  type: UPDATE_PROPERTY_REQUEST\n});\n\nconst updatePropertySuccess = (property) => ({\n  type: UPDATE_PROPERTY_SUCCESS,\n  payload: property\n});\n\nconst updatePropertyFailure = (error) => ({\n  type: UPDATE_PROPERTY_FAILURE,\n  payload: error\n});\n\nexport const updateProperty = (propertyId, propertyData) => (dispatch) => {\n  dispatch(updatePropertyRequest());\n  PropertyService.updateProperty(propertyId, propertyData)\n    .then(response => {\n      dispatch(updatePropertySuccess(response.data));\n    })\n    .catch(error => {\n      dispatch(updatePropertyFailure(error.message));\n    });\n};\n\n\nconst toggleFavoriteRequest = () => ({\n  type: TOGGLE_FAVORITE_REQUEST\n});\n\nconst toggleFavoriteSuccess = (status) => ({\n  type: TOGGLE_FAVORITE_SUCCESS,\n  payload: status\n});\n\nconst toggleFavoriteFailure = (error) => ({\n  type: TOGGLE_FAVORITE_FAILURE,\n  payload: error\n});\n\n\n\nexport const toggleFavorite = (propertyId, page) => (dispatch) => {\n  dispatch(toggleFavoriteRequest());\n  PropertyService.toggleFavoriteProperty(propertyId)\n      .then(response => {\n          dispatch(toggleFavoriteSuccess(response.data.message)); \n          dispatch(fetchAllProperties(page));\n          // Assuming the API response contains a \"status\" that indicates \"added\" or \"removed\"\n      })\n      .catch(error => {\n          dispatch(toggleFavoriteFailure(error.message));\n      });\n};\n\n\nconst fetchFavoritesRequest = () => ({\n  type: FETCH_FAVORITES_REQUEST\n});\n\nconst fetchFavoritesSuccess = (properties) => ({\n  type: FETCH_FAVORITES_SUCCESS,\n  payload: properties\n});\n\nconst fetchFavoritesFailure = (error) => ({\n  type: FETCH_FAVORITES_FAILURE,\n  payload: error\n});\n\nexport const fetchFavorites = () => (dispatch) => {\n  dispatch(fetchFavoritesRequest());\n  debugger\n  PropertyService.getFavoriteProperties()\n    .then(response => {\n      dispatch(fetchFavoritesSuccess(response.data));\n    })\n    .catch(error => {\n      dispatch(fetchFavoritesFailure(error.message));\n    });\n};\n\n\nexport const searchProperties = (params) => dispatch => {\n  return PropertyService.searchProperties(params)\n      .then(response => {\n          dispatch({\n              type: 'SEARCH_PROPERTIES',\n              payload: response.data\n          });\n          return Promise.resolve();\n      }, error => {\n          // Handle error here\n          return Promise.reject(error);\n      });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}